@inject GlobalAppState GlobalState

<CascadingValue Value="this">
    <ChildComponent />
</CascadingValue>

@code {
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    private GlobalState? _globalState;
    public GlobalState? GlobalStates
    {
        get => _globalState;
        set
        {
            _globalState = value;
            StateHasChanged();
        }
    }
    
    protected override async void OnInitialized()
    {
        // Check if the user is logged in
        _globalState = await GlobalState.SetUserDetails();
        if (!string.IsNullOrWhiteSpace(_globalState.Oid))
        {
            // If the user is logged in, redirect to the dashboard
            Console.WriteLine("Cascading Parameter: User is not authenticated");
        }
    }
}